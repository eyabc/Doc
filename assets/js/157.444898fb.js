(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{564:function(t,a,s){"use strict";s.r(a);var r=s(44),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"item12-tostring-을-항상-재정의하라"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#item12-tostring-을-항상-재정의하라"}},[t._v("#")]),t._v(" ITEM12 toString 을 항상 재정의하라")]),t._v(" "),s("h2",{attrs:{id:"tostring-일반-규약"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-일반-규약"}},[t._v("#")]),t._v(" toString 일반 규약")]),t._v(" "),s("ul",[s("li",[t._v("간결하면서 사람이 읽기 쉬운 형태의 유익한 정보를 반환해야 한다.")]),t._v(" "),s("li",[t._v("모든 하위 클래스에서 이 메서드를 재정의 하라")])]),t._v(" "),s("h3",{attrs:{id:"object-의-tostring-메서드가-기본적으로-반환하는-문자열"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-의-tostring-메서드가-기본적으로-반환하는-문자열"}},[t._v("#")]),t._v(" Object 의 toString 메서드가 기본적으로 반환하는 문자열")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("클래스_이름@16진수로_표시한_해시코드")])]),t._v(" "),s("li",[t._v("PhoneNumber@addbd")]),t._v(" "),s("li",[t._v("간결하지만 전화번호를 직접알려주는 형태가 훨씬 더 유익하다.")])]),t._v(" "),s("h2",{attrs:{id:"잘-구현된-tostring-메서드-클래스의-장점"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#잘-구현된-tostring-메서드-클래스의-장점"}},[t._v("#")]),t._v(" 잘 구현된 toString 메서드 클래스의 장점")]),t._v(" "),s("ul",[s("li",[t._v("사용이 편하다")]),t._v(" "),s("li",[t._v("시스템 디버깅이 쉬워진다.")])]),t._v(" "),s("h3",{attrs:{id:"tostring-이-자동-호출-문맥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-이-자동-호출-문맥"}},[t._v("#")]),t._v(" toString 이 자동 호출 문맥")]),t._v(" "),s("ul",[s("li",[t._v("객체를 "),s("code",[t._v("println")]),t._v(", "),s("code",[t._v("printf")]),t._v(", 문자열 연결 연산자("),s("code",[t._v("+")]),t._v("), "),s("code",[t._v("assert")]),t._v(" 구문에 넘길 때")]),t._v(" "),s("li",[t._v("디버거가 객체를 출력할 때")]),t._v(" "),s("li",[t._v("작성한 객체를 참조하는 컴포넌트가 오류 메시지를 로깅할 때 자동으로 호출됨")])]),t._v(" "),s("h2",{attrs:{id:"tostring-에-적합한-내용"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-에-적합한-내용"}},[t._v("#")]),t._v(" toString 에 적합한 내용")]),t._v(" "),s("ul",[s("li",[t._v("그 객체가 가진 주요 정보를 모두 반환하는 것이 좋다.")]),t._v(" "),s("li",[t._v("거대한 객체 or 객체 상태가 문자열 표현으로 부적합\n"),s("ul",[s("li",[t._v("요약 정보를 담는다.")]),t._v(" "),s("li",[t._v("맨해튼 거주자 전화번호부(총 1233434324개)")]),t._v(" "),s("li",[t._v("Thread[main, 5, main]")])])])]),t._v(" "),s("h2",{attrs:{id:"tostring-반환값-포맷-문서화"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-반환값-포맷-문서화"}},[t._v("#")]),t._v(" toString 반환값 포맷 문서화")]),t._v(" "),s("h3",{attrs:{id:"장점과-특징"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#장점과-특징"}},[t._v("#")]),t._v(" 장점과 특징")]),t._v(" "),s("p",[t._v("그 객체는 표준적, 명확함, 사람이 읽을 수 있는 특징을 가진다.")]),t._v(" "),s("ul",[s("li",[t._v("전화번호나 행렬 같은 값 클래스 → 문서화 권장")]),t._v(" "),s("li",[t._v("값 그대로 입출력에 사용한다")]),t._v(" "),s("li",[t._v("CSV 파일처럼 사람이 읽을 수 있는 데이터 객체로 저장한다")]),t._v(" "),s("li",[t._v("포맷에 맞는 문자열과 객체를 상호전환할 수 있는 정적 팩터리나 생성자를 함께 제공해 주면 좋다. ??")])]),t._v(" "),s("h3",{attrs:{id:"단점"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#단점"}},[t._v("#")]),t._v(" 단점")]),t._v(" "),s("p",[t._v("포맷을 한번 명시하면(그 클래스가 많이 쓰인다면) 평생 포맷에 얽매인다")]),t._v(" "),s("ul",[s("li",[t._v("이를 사용하는 프로그래머들이 그 포맷에 맞춰 다음과 같은 행위를 할 것이기 때문.\n"),s("ul",[s("li",[t._v("파싱")]),t._v(" "),s("li",[t._v("새로운 객체 생성")]),t._v(" "),s("li",[t._v("영속 데이터로 저장")])])])]),t._v(" "),s("p",[t._v("포맷을 명시하지 않는다면 향후 릴리스에서 정보를 더 넣거나 포맷을 개선할 수 있는 유연성을 얻게 된다.")]),t._v(" "),s("p",[t._v("포맷을 명시하든 아니든 의도는 명확히 밝혀야 한다.\n설명을 읽고서도 위와 같은 행위를 하여 피해를 입는다면 사용한 프로그래머의 잘못이다.")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n* ...\n* 상세 형식은 정해지지 않았으며 향후 변경 될 수 있다.\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("단, 포맷을 명시하려면 아주 정확하게 해야 한다.")]),t._v(" "),s("p",[t._v("포맷 명시 여부과 상관 없이 "),s("strong",[t._v("toString 이 반환한 값에 포함된 정보를 얻어올 수 있는 API 를 제공")]),t._v("하자")]),t._v(" "),s("ul",[s("li",[t._v("클래스 필드에 대한 정보가 필요한 프로그래머는 toString 의 값을 파싱해야 한다.\n→ 성능저하, 불필요한 작업"),s("br"),t._v("\n→ 향후 포맷을 바꾸면 시스템이 망가진다.")])]),t._v(" "),s("p",[t._v("접근자를 제공하지 않으면, 변경될 수 있다고 문서화를 해도"),s("br"),t._v("\n그 포맷이 사실상 준-표준 API 나 다름없다.")]),t._v(" "),s("h2",{attrs:{id:"tostring-을-재정의-하지-않아도-되는-타입"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-을-재정의-하지-않아도-되는-타입"}},[t._v("#")]),t._v(" toString 을 재정의 하지 않아도 되는 타입")]),t._v(" "),s("ul",[s("li",[t._v("정적 유틸리티 클래스[4]")]),t._v(" "),s("li",[t._v("대부분의 열거타입[34]은 자바가 이미 완벽한 toString 을 제공")])]),t._v(" "),s("h2",{attrs:{id:"tostring-을-재정의-해야하는-타입"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-을-재정의-해야하는-타입"}},[t._v("#")]),t._v(" toString 을 재정의 해야하는 타입")]),t._v(" "),s("p",[t._v("하위 클래스들이 공유해야 할 문자열 표현이 있는 추상클래스  ??")]),t._v(" "),s("ul",[s("li",[t._v("대다수의 컬렉션 구현체는 추상 컬렉션 클래스들의 toString 메서드를 상속해서 쓴다.")])]),t._v(" "),s("h2",{attrs:{id:"tostring-자동생성"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-자동생성"}},[t._v("#")]),t._v(" toString 자동생성")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("AutoValue")]),t._v(" 프레임워크로는 클래스의 의미까지 파악하기 어렵다.")]),t._v(" "),s("li",[t._v("자동생성에 적합하지 않는 타입\n"),s("ul",[s("li",[t._v("PhoneNumber 은 표준체계가 있다.")])])]),t._v(" "),s("li",[t._v("자동생성에 적합하지 않더라도\n객체의 값에 관해 아무것도 알려주지 않는 Object 의 toString 보다는 자동생성하는 것이 낫다.")])])])}),[],!1,null,null,null);a.default=v.exports}}]);