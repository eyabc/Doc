(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{462:function(t,s,e){"use strict";e.r(s);var a=e(44),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"pointer-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointer-events"}},[t._v("#")]),t._v(" Pointer events")]),t._v(" "),e("p",[t._v("포인터 이벤트는 다양한 Pointing Devices 를 다룰 수 있는 현대적인 방법이다.")]),t._v(" "),e("p",[t._v("pointing devices")]),t._v(" "),e("ul",[e("li",[t._v("mouse")]),t._v(" "),e("li",[t._v("pen/stylus")]),t._v(" "),e("li",[t._v("touchscreen")]),t._v(" "),e("li",[t._v("등.")])]),t._v(" "),e("h2",{attrs:{id:"간단한-역사"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#간단한-역사"}},[t._v("#")]),t._v(" 간단한 역사")]),t._v(" "),e("h3",{attrs:{id:"_1-아주-오래전-mouse-events-만-존재하였음"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-아주-오래전-mouse-events-만-존재하였음"}},[t._v("#")]),t._v(" 1. 아주 오래전, Mouse Events 만 존재하였음")]),t._v(" "),e("ul",[e("li",[t._v("터치기기들은 초기에, 마우스 이벤트를 생성하였다.\n"),e("ul",[e("li",[t._v("터치스크린을 tap → mousedown\n"),e("ul",[e("li",[t._v("웹페이지에서 잘 동작하였다.")])])])])]),t._v(" "),e("li",[t._v("터치기기들이 마우스보다 더 능력이 많아졌다.\n"),e("ul",[e("li",[t._v("multi-touch 가 가능해졌다.")]),t._v(" "),e("li",[t._v("여러 포인터를 한번에 터치하는 것")]),t._v(" "),e("li",[t._v("마우스 이벤트는 multi-touch 가 없었다.")])])])]),t._v(" "),e("h3",{attrs:{id:"_2-터치-이벤트들이-도입되었다"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-터치-이벤트들이-도입되었다"}},[t._v("#")]),t._v(" 2. 터치 이벤트들이 도입되었다.")]),t._v(" "),e("ul",[e("li",[t._v("touchstart, touchend, touchmove")]),t._v(" "),e("li",[t._v("그러나, 이외의 여러 pointing devices 를 커버하기에는 성가신 일이었다.")])]),t._v(" "),e("h3",{attrs:{id:"_3-새로운-pointer-events-표준의-등장"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-새로운-pointer-events-표준의-등장"}},[t._v("#")]),t._v(" 3. 새로운 Pointer Events 표준의 등장")]),t._v(" "),e("ul",[e("li",[t._v("Pointer Events Level 2 specification\n"),e("ul",[e("li",[t._v("대부분 주요 브라우저에서 지원하고 있다.")])])]),t._v(" "),e("li",[t._v("Pointer Events Level 3\n"),e("ul",[e("li",[t._v("Pointer Events level 2 와 호환 된다.")])])]),t._v(" "),e("li",[t._v("구 브라우저 (IE 10, Safari 12 이하 폴리필 사용)를 개발하는 것이 아니라면 pointer events 를 사용하라.")])]),t._v(" "),e("p",[t._v("중요한 것은 Pointer Events 에 대해 정확히 알고 예기치 못한 상황을 피하는 것이 좋다.")]),t._v(" "),e("h2",{attrs:{id:"pointer-event-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointer-event-types"}},[t._v("#")]),t._v(" Pointer event types")]),t._v(" "),e("p",[t._v("마우스 이벤트와 비슷하게 네이밍 되었다.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Pointer event")]),t._v(" "),e("th",[t._v("Similar mouse event")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("pointerdown")]),t._v(" "),e("td",[t._v("mousedown")])]),t._v(" "),e("tr",[e("td",[t._v("pointerup")]),t._v(" "),e("td",[t._v("mouseup")])]),t._v(" "),e("tr",[e("td",[t._v("pointermove")]),t._v(" "),e("td",[t._v("mousemove")])]),t._v(" "),e("tr",[e("td",[t._v("pointerover")]),t._v(" "),e("td",[t._v("mouseover")])]),t._v(" "),e("tr",[e("td",[t._v("pointerout")]),t._v(" "),e("td",[t._v("mouseout")])]),t._v(" "),e("tr",[e("td",[t._v("pointerenter")]),t._v(" "),e("td",[t._v("mouseenter")])]),t._v(" "),e("tr",[e("td",[t._v("pointerleave")]),t._v(" "),e("td",[t._v("mouseleave")])]),t._v(" "),e("tr",[e("td",[t._v("pointercancel")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("gotpointercapture")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("lostpointercapture")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h3",{attrs:{id:"mouse-event-를-pointer-event-으로-대체하기"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mouse-event-를-pointer-event-으로-대체하기"}},[t._v("#")]),t._v(" "),e("code",[t._v("mouse<event>")]),t._v(" 를 "),e("code",[t._v("pointer<event>")]),t._v(" 으로 대체하기")]),t._v(" "),e("ul",[e("li",[t._v("마우스에서 잘 동작한다.")]),t._v(" "),e("li",[t._v("터치 장치에 대해서도 마법적인 향상")])]),t._v(" "),e("h2",{attrs:{id:"pointer-event-properties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointer-event-properties"}},[t._v("#")]),t._v(" Pointer event properties")]),t._v(" "),e("h3",{attrs:{id:"마우스-이벤트와-동일한-속성을-가지고-있다"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#마우스-이벤트와-동일한-속성을-가지고-있다"}},[t._v("#")]),t._v(" 마우스 이벤트와 동일한 속성을 가지고 있다.")]),t._v(" "),e("ul",[e("li",[t._v("clientX/Y, target, etc")])]),t._v(" "),e("h3",{attrs:{id:"추가적인-이벤트"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#추가적인-이벤트"}},[t._v("#")]),t._v(" 추가적인 이벤트")]),t._v(" "),e("h4",{attrs:{id:"pointerid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointerid"}},[t._v("#")]),t._v(" pointerId")]),t._v(" "),e("p",[t._v("이벤트로 유발된 포인터의 고유한 식별자")]),t._v(" "),e("ul",[e("li",[t._v("브라우저가 생성")]),t._v(" "),e("li",[t._v("multiple pointers 를 다룰 수 있게 한다.\n"),e("ul",[e("li",[t._v("스타일러스를 사용한 터치스크린")]),t._v(" "),e("li",[t._v("multi-touch")])])])]),t._v(" "),e("h4",{attrs:{id:"pointertype"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointertype"}},[t._v("#")]),t._v(" pointerType")]),t._v(" "),e("p",[t._v("포인팅 기기 타입")]),t._v(" "),e("ul",[e("li",[t._v("String 문자열 타입")]),t._v(" "),e("li",[e("code",[t._v("mouse")]),t._v(", "),e("code",[t._v("pen")]),t._v(", "),e("code",[t._v("touch")]),t._v(" 중 하나")]),t._v(" "),e("li",[t._v("다양한 포인터 타입에 반응을 다르게 할 때 사용")])]),t._v(" "),e("h4",{attrs:{id:"isprimary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isprimary"}},[t._v("#")]),t._v(" isPrimary")]),t._v(" "),e("ul",[e("li",[t._v("primary pointer 일 때, 값이 "),e("code",[t._v("true")]),t._v(" "),e("ul",[e("li",[t._v("멀티 터치의 첫 번째 손가락")])])])]),t._v(" "),e("h3",{attrs:{id:"접촉면적과-압력을-계산하는-pointer-devices"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#접촉면적과-압력을-계산하는-pointer-devices"}},[t._v("#")]),t._v(" 접촉면적과 압력을 계산하는 pointer devices")]),t._v(" "),e("h4",{attrs:{id:"width"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#width"}},[t._v("#")]),t._v(" width")]),t._v(" "),e("p",[t._v("– 손가락을 사용한 터치 기기의 포인터 영역의 width")]),t._v(" "),e("ul",[e("li",[t._v("mouse 와 같이 지원되지 않을 때 속성 값은 항상 "),e("code",[t._v("1")])])]),t._v(" "),e("h4",{attrs:{id:"height"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#height"}},[t._v("#")]),t._v(" height")]),t._v(" "),e("p",[t._v("– 손가락을 사용한 터치 기기 포인터 영역의 height")]),t._v(" "),e("ul",[e("li",[t._v("mouse 와 같이 지원되지 않을 때 속성 값은 항상 "),e("code",[t._v("1")])])]),t._v(" "),e("h4",{attrs:{id:"pressure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pressure"}},[t._v("#")]),t._v(" pressure")]),t._v(" "),e("ul",[e("li",[t._v("포인터 끝의 압력")]),t._v(" "),e("li",[t._v("0 ~ 1 범위")]),t._v(" "),e("li",[t._v("지원하지 않는 기기의 값\n"),e("ul",[e("li",[t._v("눌렸을 때 "),e("code",[t._v("0.5")])]),t._v(" "),e("li",[t._v("안눌렸을 때 "),e("code",[t._v("0")])])])])]),t._v(" "),e("h4",{attrs:{id:"tangentialpressure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tangentialpressure"}},[t._v("#")]),t._v(" tangentialPressure")]),t._v(" "),e("blockquote",[e("p",[t._v("TODO 번역으로는 접선 압력인데 무엇을 뜻하는지 모르겠다. 틸트를 뜻하는 기능인가")])]),t._v(" "),e("p",[t._v("– 정규화된 (일반적인?) 접선 압력 tangential pressure.")]),t._v(" "),e("h4",{attrs:{id:"tiltx-tilty-twist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tiltx-tilty-twist"}},[t._v("#")]),t._v(" tiltX, tiltY, twist")]),t._v(" "),e("p",[t._v("– pen 포인터 디바이스에 특화된 속성")]),t._v(" "),e("ul",[e("li",[t._v("relative 표면에서 펜이 어떻게 위치해 있느냐에 대한 정보")])]),t._v(" "),e("h2",{attrs:{id:"multi-touch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#multi-touch"}},[t._v("#")]),t._v(" Multi-touch")]),t._v(" "),e("p",[t._v("Pointer Events 는 multi-touch 를 위해 "),e("code",[t._v("pointerId")]),t._v(" 와 "),e("code",[t._v("isPrimary")]),t._v(" 속성을 사용한다.")]),t._v(" "),e("p",[t._v("한 곳에서 터치 스크린을 터치 한 다음 다른 손가락을 다른 곳에 놓을 때,")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("첫번 째 손가락이 터치 될 때")]),t._v(" "),e("ul",[e("li",[t._v("pointerdown 과 함께 "),e("code",[t._v("isPrimary=true")]),t._v(", "),e("code",[t._v("pointerId")]),t._v(" 값이 set 된다.")])])]),t._v(" "),e("li",[e("p",[t._v("다른 손가락들이 터치 될 때 (첫번 째 손가락이 여전히 터치 되고 있음을 가정)")]),t._v(" "),e("ul",[e("li",[t._v("pointerdown 과 함께 "),e("code",[t._v("isPrimary=false")]),t._v(" , 모든 손가락에 대해 다른 "),e("code",[t._v("pointerId")]),t._v(" 가 set 된다.")])])])]),t._v(" "),e("h3",{attrs:{id:"pointerid-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointerid-2"}},[t._v("#")]),t._v(" pointerId")]),t._v(" "),e("p",[t._v("여러 터치 손가락을 추적 할 수 있다.")]),t._v(" "),e("ul",[e("li",[t._v("사용자가 이동 한 다음 손가락을 제거하면 pointerdown 에서와 동일한 pointerId를 가진 pointermove 및 pointerup 이벤트가 발생한다.")])]),t._v(" "),e("h2",{attrs:{id:"event-pointercancel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-pointercancel"}},[t._v("#")]),t._v(" Event: pointercancel")]),t._v(" "),e("ul",[e("li",[t._v("진행중인 포인터 상호 작용이있을 때 발생하고")]),t._v(" "),e("li",[t._v("상호작용을 중단되도록하는 일이 발생하여")]),t._v(" "),e("li",[t._v("더 이상 포인터 이벤트가 생성되지 않는다.")])]),t._v(" "),e("h3",{attrs:{id:"중단-원인들"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#중단-원인들"}},[t._v("#")]),t._v(" 중단 원인들")]),t._v(" "),e("ul",[e("li",[t._v("포인터 장치 하드웨어가 물리적으로 비활성화 될 때")]),t._v(" "),e("li",[t._v("장치의 orientation (방향) 이 바뀌었을 때 (tablet 회전)")]),t._v(" "),e("li",[t._v("브라우저가 interaction 을 스스로 핸들하려고 결정할 때\n"),e("ul",[e("li",[t._v("mouse gesture ??")]),t._v(" "),e("li",[t._v("zoom-and-pan(확대/축소) action")])])])]),t._v(" "),e("h3",{attrs:{id:"드래그-앤-드롭과-마우스-이벤트-예시"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#드래그-앤-드롭과-마우스-이벤트-예시"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://ko.javascript.info/mouse-drag-and-drop",target:"_blank",rel:"noopener noreferrer"}},[t._v("드래그 앤 드롭과 마우스 이벤트 예시"),e("OutboundLink")],1)]),t._v(" "),e("ol",[e("li",[e("code",[t._v("pointerdown")]),t._v(" 유저가 이미지를 누른다")]),t._v(" "),e("li",[e("code",[t._v("pointermove")]),t._v(" 포인터를 움직이기 시작한다.")]),t._v(" "),e("li",[t._v("브라우저의 이미지에 대한 네이티브 드래그앤드롭이 진행된다.\n"),e("ul",[e("li",[t._v("브라우저는 interaction 을  hijacks 하고, 따라서 "),e("code",[t._v("pointercancel")]),t._v(" 이벤트를 발생시킨다.")]),t._v(" "),e("li",[e("code",[t._v("pointermove")]),t._v(" 는 더이상 발생하지 않는다.")])])])]),t._v(" "),e("h3",{attrs:{id:"브라우저의-pointercancel-이벤트를-중단-시키는-방법"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#브라우저의-pointercancel-이벤트를-중단-시키는-방법"}},[t._v("#")]),t._v(" 브라우저의 pointercancel 이벤트를 중단 시키는 방법")]),t._v(" "),e("ol",[e("li",[t._v("기본 드래그 앤 드롭이 발생하지 않도록 방지"),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("ball"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("ondragstart")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])]),t._v(" "),e("li",[t._v("터치 기기에서는, 추가적인 브라우저 액션이 존재한다.\n"),e("ul",[e("li",[e("code",[t._v("#ball { touch-action: none }")]),t._v(" in CSS 으로 기본 이벤트를 방지한다.")])])])]),t._v(" "),e("h2",{attrs:{id:"pointer-capturing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointer-capturing"}},[t._v("#")]),t._v(" Pointer capturing")]),t._v(" "),e("h3",{attrs:{id:"elem-setpointercapture-pointerid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elem-setpointercapture-pointerid"}},[t._v("#")]),t._v(" "),e("code",[t._v("elem.setPointerCapture(pointerId)")])]),t._v(" "),e("p",[t._v("주어진 pointerId를 가진 이벤트를 elem 에 바인딩합니다.")]),t._v(" "),e("ul",[e("li",[t._v("동일한 pointerId 를 가진 모든 포인터 이벤트는\n실제로 발생한 문서의 위치에 관계없이 대상으로 elem 을 갖게됩니다\n(elem 에서 발생한 것처럼). ??")])]),t._v(" "),e("h3",{attrs:{id:"elem-setpointercapture-바인딩이-제거되는-상황"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elem-setpointercapture-바인딩이-제거되는-상황"}},[t._v("#")]),t._v(" elem.setPointerCapture 바인딩이 제거되는 상황")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("pointerup")]),t._v(" "),e("code",[t._v("pointercancel")]),t._v(" 이벤트가 발생할 때 자동으로 제거된다.")]),t._v(" "),e("li",[e("code",[t._v("elem")]),t._v(" 이 document 에서 제거 될 때 자동으로 제거된다.")]),t._v(" "),e("li",[e("code",[t._v("elem.releasePointerCapture(pointerId)")]),t._v(" 이 호출 될 때")])]),t._v(" "),e("h3",{attrs:{id:"pointer-capturing-의-사용처"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointer-capturing-의-사용처"}},[t._v("#")]),t._v(" Pointer capturing 의 사용처")]),t._v(" "),e("ul",[e("li",[t._v("드래그 앤 드롭 방식의 상호작용을 단순화")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://plnkr.co/edit/lBpFSUdqUXAgYJEO?p=preview&preview",target:"_blank",rel:"noopener noreferrer"}},[t._v("슬라이더 예제"),e("OutboundLink")],1),t._v(" "),e("img",{attrs:{src:"https://user-images.githubusercontent.com/31977543/107378401-49292400-6b2f-11eb-8cdd-9185dd0c6cec.png",alt:"image"}})])]),t._v(" "),e("ol",[e("li",[t._v("사용자가 slider thumb 을 누르면 "),e("code",[t._v("pointerdown")]),t._v(" 가 유발 됩니다.")]),t._v(" "),e("li",[e("code",[t._v("pointermove")]),t._v(" 를 트리거 합니다.\n"),e("ul",[e("li",[t._v("포인터가 움직일 때, 슬라이더의 수평으로 움직여야 하지만 수평으로도 움직이기도 하고 thumb 을 떠나게 됩니다.")]),t._v(" "),e("li",[t._v("수평으로 움직이는 것을 감지하려면 문서 전체에 "),e("code",[t._v("pointermove")]),t._v(" 이벤트를 할당해야 한다.\n"),e("ul",[e("li",[t._v("코드가 복잡할 것이다.")]),t._v(" "),e("li",[t._v("문서 주변의 포인터 이동이 슬라이더와 전혀 관련이없는 부작용을 일으킬 수 있다.")]),t._v(" "),e("li",[t._v("다른 이벤트 핸들러를 트리거 할 수 있다.")])])])])])]),t._v(" "),e("h4",{attrs:{id:"문제-해결"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#문제-해결"}},[t._v("#")]),t._v(" 문제 해결")]),t._v(" "),e("p",[t._v("Pointer capturing 는 pointermove 를 thumb 에 바인딩하고 이러한 문제를 방지하는 수단을 제공합니다.")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("pointerdown")]),t._v(" 핸들러 안에서, "),e("code",[t._v("thumb.setPointerCapture(event.pointerId)")]),t._v(" 를 호출한다.")]),t._v(" "),e("li",[t._v("포인터 이벤트는 "),e("code",[t._v("pointerup/cancel")]),t._v(" 가 호출되기 전까지 "),e("code",[t._v("thumb")]),t._v(" 으로 "),e("code",[t._v("retargeted")]),t._v(" 된다.")]),t._v(" "),e("li",[e("code",[t._v("pointerup")]),t._v(" 이 될 때, 바인딩이 자동으로 삭제된다.")])]),t._v(" "),e("ul",[e("li",[t._v("사용자가 전체 문서 주위로 포인터를 이동하더라도 이벤트 핸들러는 thumb 으로 호출된다.")]),t._v(" "),e("li",[e("code",[t._v("clientX / clientY")]),t._v(" 와 같은 이벤트 객체의 좌표 속성은 여전히 정확합니다.")]),t._v(" "),e("li",[t._v("캡처는 "),e("code",[t._v("target / currentTarget")]),t._v("에만 영향을 줍니다.")])]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("slider"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("slider"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" thumb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" slider"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.thumb'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" shiftX"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onpointerdown")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prevent selection start (browser action)")]),t._v("\n    shiftX "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// retarget all pointer events (until pointerup) to thumb")]),t._v("\n    thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPointerCapture")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pointerId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (*)")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onpointermove")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// moving the slider: listen on the thumb, ")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// as all pointer events are retargeted to it")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newLeft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" shiftX "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" slider"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (*)")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if the pointer is out of slider => adjust left to be within the bounaries")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newLeft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      newLeft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" rightEdge "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" slider"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetWidth "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetWidth"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newLeft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" rightEdge"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      newLeft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rightEdge"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newLeft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  thumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("ondragstart")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br")])]),e("h3",{attrs:{id:"pointer-capturing-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointer-capturing-events"}},[t._v("#")]),t._v(" Pointer capturing events")]),t._v(" "),e("h4",{attrs:{id:"gotpointercapture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gotpointercapture"}},[t._v("#")]),t._v(" gotpointercapture")]),t._v(" "),e("p",[t._v("setPointerCapture 를 사용할 때 발생합니다.")]),t._v(" "),e("h4",{attrs:{id:"lostpointercapture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lostpointercapture"}},[t._v("#")]),t._v(" lostpointercapture")]),t._v(" "),e("p",[t._v("캡처가 해제 될 때 발생합니다")]),t._v(" "),e("ul",[e("li",[t._v("명시적 "),e("code",[t._v("releasePointerCapture")])]),t._v(" "),e("li",[t._v("자동 "),e("code",[t._v("pointerup")]),t._v(" / "),e("code",[t._v("pointercancel")])])]),t._v(" "),e("h2",{attrs:{id:"reference"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),e("p",[t._v("https://ko.javascript.info/pointer-events")])])}),[],!1,null,null,null);s.default=n.exports}}]);