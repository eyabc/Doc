(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{479:function(t,s,a){"use strict";a.r(s);var n=a(44),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"sync-async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-async"}},[t._v("#")]),t._v(" Sync Async")]),t._v(" "),a("h2",{attrs:{id:"sync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync"}},[t._v("#")]),t._v(" Sync")]),t._v(" "),a("h3",{attrs:{id:"sync-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-flow"}},[t._v("#")]),t._v(" Sync Flow")]),t._v(" "),a("p",[t._v("메모리에 적재된 명령이 순차적으로 실행됨")]),t._v(" "),a("ul",[a("li",[t._v("폰노이만 머신")]),t._v(" "),a("li",[t._v("한번 발동이 되면 관여할 수 없다.")])]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92357083-39418a00-f122-11ea-9f3b-b42c5792094a.png"}}),t._v(" "),a("h3",{attrs:{id:"sync-flow-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-flow-control"}},[t._v("#")]),t._v(" Sync Flow Control")]),t._v(" "),a("p",[t._v("Goto 를 통해 명령의 위치를 이동")]),t._v(" "),a("ul",[a("li",[t._v("제어형 언어 들에서 if 나 for 등으로 goto 를 추상화")])]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92357175-5e35fd00-f122-11ea-91d8-81b2db852a68.png"}}),t._v(" "),a("h3",{attrs:{id:"sub-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sub-flow"}},[t._v("#")]),t._v(" Sub Flow")]),t._v(" "),a("p",[t._v("함수 등을 통해 별도의 명령셋을 여러번 실행함")]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92357852-7fe3b400-f123-11ea-8b49-90bd6b7599c6.png"}}),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92357862-8540fe80-f123-11ea-881d-56e18d0e0b5d.png"}}),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92357870-8a05b280-f123-11ea-9a1d-ef778695bd10.png"}}),t._v(" "),a("h2",{attrs:{id:"blocking-nonblocking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blocking-nonblocking"}},[t._v("#")]),t._v(" Blocking & NonBlocking")]),t._v(" "),a("h3",{attrs:{id:"blocking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blocking"}},[t._v("#")]),t._v(" Blocking")]),t._v(" "),a("p",[t._v("Sync Flow 가 실행되는 동안 다른 일을 할 수 없는 현상")]),t._v(" "),a("p",[t._v("폰 노이만 머신은, 명령어를 적재하고 해소하는 사이에 CPU 가 먹통이 되어 다른 일을 할 수 없다.")]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92358452-70b13600-f124-11ea-8ecb-d2adcc79d495.png"}}),t._v(" "),a("p",[t._v("예를 들어, 멀티 태스킹이 안되기 때문에 UI 가 응답을 안하는 현상이 생길 수 있다.")]),t._v(" "),a("h4",{attrs:{id:"blocking-줄이기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blocking-줄이기"}},[t._v("#")]),t._v(" blocking 줄이기")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("sync flow 를 짧게 하기")]),t._v(" "),a("ul",[a("li",[t._v("sync flow 를 짧게 짜는 것은 바람직하지만 불가능 하다.")]),t._v(" "),a("li",[t._v("7줄이 있는 이유가 있는 코드를 4 줄로 바꿨을 때, 기능이 동작하지 않는다면 바람직 하지 않다.")])]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92358731-ee754180-f124-11ea-8fea-6190bec66e3d.png"}})]),t._v(" "),a("li",[a("p",[t._v("다른 쓰레드에 syncflow 를 떠넘긴다.")]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92359029-7eb38680-f125-11ea-9937-8a32f75942a5.png"}}),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92359037-83783a80-f125-11ea-9976-d16b379c38b5.png"}}),t._v(" "),a("ul",[a("li",[a("p",[t._v("쓰레드 하나 당 Blocking 기간이 짧아진다.")])]),t._v(" "),a("li",[a("p",[t._v("쓰레드는 별도로 작동하기 때문에 각각의 쓰레드가 끝나는 시간이 동기화 되지 않는다.")])]),t._v(" "),a("li",[a("p",[t._v("다른 쓰레드의 작업이 완료되면 원래 쓰레드에 보고해야 한다.")]),t._v(" "),a("img",{staticStyle:{height:"150px"},attrs:{src:"https://user-images.githubusercontent.com/31977543/92359478-46f90e80-f126-11ea-886c-f1d0cc2ab2eb.png"}})])])])]),t._v(" "),a("h3",{attrs:{id:"non-blocking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#non-blocking"}},[t._v("#")]),t._v(" Non Blocking")]),t._v(" "),a("p",[t._v("Sync Flow 가 납득할 만한 시간 내에 종료되는 것")]),t._v(" "),a("p",[t._v("기준에 상대적이다.")]),t._v(" "),a("p",[t._v("예를들어,")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("구구단의 돌아가는 코드는 81번의 루프")]),t._v(" "),a("ul",[a("li",[t._v("nonBlocking ? Blocking ?")]),t._v(" "),a("li",[t._v("느린 컴퓨터에서 먹통 -> Blocking")]),t._v(" "),a("li",[t._v("요즘 보편적으로 쓰고 있는 컴퓨터 기준 -> nonBlocking")])])]),t._v(" "),a("li",[a("p",[t._v("FrontEnd")]),t._v(" "),a("ul",[a("li",[t._v("60 fps 기준 : 1 프레임당 16ms 이하 -> 60 fps 가능\n"),a("ul",[a("li",[t._v("16 ms * 60 => 960ms (약 1초)")])])]),t._v(" "),a("li",[t._v("최근, 모니터 주사율 144 Hz 를 넘고 있다.")])])])]),t._v(" "),a("h2",{attrs:{id:"async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async"}},[t._v("#")]),t._v(" Async")]),t._v(" "),a("h3",{attrs:{id:"sync-와-async-의-차이점-및-단점"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-와-async-의-차이점-및-단점"}},[t._v("#")]),t._v(" Sync 와 Async 의 차이점 및 단점")]),t._v(" "),a("p",[t._v("멀티쓰레드, 비동기 프레임 하고도 관계가 없다.")]),t._v(" "),a("p",[a("code",[t._v("Sync")]),t._v(" 서브루틴이 즉시 값을 반환")]),t._v(" "),a("p",[a("code",[t._v("Async")]),t._v(" 서브루틴이 다른 수단으로 값을 반환")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("Sync")]),t._v(" "),a("th",[t._v("Async 단점")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("서브루틴의 반환")]),t._v(" "),a("td",[t._v("즉시 값 반환")]),t._v(" "),a("td",[t._v("다른 수단으로 값 반환. "),a("br"),t._v(" - 즉시 반환되지 않으므로 현재의 sync flow 가 종료됨")])]),t._v(" "),a("tr",[a("td",[t._v("현재 어휘공간 사용")]),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("X (클로저나, 복잡한 스코프 사용해야함) "),a("br"),t._v(" - 요청 시의 어휘공간을 별도로 결과시점에 전달할 부가장치 필요.")])])])]),t._v(" "),a("h3",{attrs:{id:"async-장점"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-장점"}},[t._v("#")]),t._v(" Async 장점")]),t._v(" "),a("p",[t._v("결과가 주어지는데 시간이 걸리더라도\n그 시간 동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용할 수 있다.")]),t._v(" "),a("h3",{attrs:{id:"async-가-값을-반환하는-수단"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-가-값을-반환하는-수단"}},[t._v("#")]),t._v(" Async 가 값을 반환하는 수단")]),t._v(" "),a("ol",[a("li",[t._v("Promise\n"),a("ul",[a("li",[t._v("fetch 는 값을 바로 반환하지 않고 Promise 로 반환을 한다.")])])]),t._v(" "),a("li",[t._v("callback function")]),t._v(" "),a("li",[t._v("iterations")])]),t._v(" "),a("h2",{attrs:{id:"sync-의-장점-async-의-장점"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-의-장점-async-의-장점"}},[t._v("#")]),t._v(" Sync 의 장점 + Async 의 장점")]),t._v(" "),a("p",[t._v("Sync 의 장점")]),t._v(" "),a("ul",[a("li",[t._v("현재 어휘공간 사용")])]),t._v(" "),a("p",[t._v("Async 의 장점")]),t._v(" "),a("ul",[a("li",[t._v("병렬처리로 자원의 효율적 사용")])]),t._v(" "),a("p",[t._v("=> sync 로직으로 async 를 사용할 수 있게함")]),t._v(" "),a("p",[a("code",[t._v("Continuation")]),t._v(" async flow 에서, sync flow 의 상태를 기억하여 이어주는 장치")]),t._v(" "),a("p",[a("code",[t._v("CPS (Continuation Passing Style)")])]),t._v(" "),a("ul",[a("li",[t._v("Continuation 을 활용하는 프로그래밍 스타일")]),t._v(" "),a("li",[t._v("Generator, async, asynchronous Iterators")])]),t._v(" "),a("h3",{attrs:{id:"non-blocking-for"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#non-blocking-for"}},[t._v("#")]),t._v(" Non Blocking For")]),t._v(" "),a("p",[t._v("Blocking 을 줄이면서 Sync 를 이용하는 것.")]),t._v(" "),a("h3",{attrs:{id:"blocking-sync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blocking-sync"}},[t._v("#")]),t._v(" Blocking sync")]),t._v(" "),a("p",[t._v("sync 함수, working() 이 무거우면 blocking 이 된다.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("working")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("working")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"nonblocking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonblocking"}},[t._v("#")]),t._v(" NonBlocking")]),t._v(" "),a("p",[a("code",[t._v("nbFor")]),t._v("(최대반복횟수, 한 프레임 당 load 횟수, 실행 블록)")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("nbFor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" load"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("f")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("time")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" curr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" load"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://blog.eunsatio.io/develop/JavaScript-window.requestAnimationFrame-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC",target:"_blank",rel:"noopener noreferrer"}},[t._v("requestAnimationFrame"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("JavaScript의 WebAPI 비동기 함수")]),t._v(" "),a("li",[t._v("window.setTimeout 함수와 다른 점은 브라우저가 실행 시기를 결정")]),t._v(" "),a("li",[t._v("window.setInterval 함수와 다른 점은 스스로 반복해서 호출하지 않는다")]),t._v(" "),a("li",[t._v("재귀적으로 window.requestAnimationFrame 함수를 다시 호출해 줘야 합니다.")])])]),t._v(" "),a("ol",[a("li",[t._v("한 프레임 내에서 10 번의 loop 를 돌게 된다. -> non blocking"),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nbFor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" working"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("working "),a("strong",[t._v("반환값이 없다면")]),t._v(" -> nbFor 은 "),a("strong",[t._v("Async")])])]),t._v(" "),a("p",[t._v("block 서브루틴이 차지하는 리소스에 따라 blocking 이 될 수 있고,\nnon blocking 이 될 수 있다.\n따라서, 성능 테스트를 하면서 load 를 조절해 나가면 된다.")]),t._v(" "),a("h2",{attrs:{id:"reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://private.tistory.com/24",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://private.tistory.com/24"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("코드스피츠")])])])}),[],!1,null,null,null);s.default=r.exports}}]);