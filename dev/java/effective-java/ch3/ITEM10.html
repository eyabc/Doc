<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ITEM10 equals 는 일반 규약을 지켜 재정의하라 | 재미있는 기억만 남기자</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/Doc/assets/css/0.styles.55c51c8a.css" as="style"><link rel="preload" href="/Doc/assets/js/app.223b84f4.js" as="script"><link rel="preload" href="/Doc/assets/js/2.e16b4c8c.js" as="script"><link rel="preload" href="/Doc/assets/js/155.a3a7b36e.js" as="script"><link rel="prefetch" href="/Doc/assets/js/10.9cec59d5.js"><link rel="prefetch" href="/Doc/assets/js/100.70972f5c.js"><link rel="prefetch" href="/Doc/assets/js/101.54d44ab6.js"><link rel="prefetch" href="/Doc/assets/js/102.1b1e4edd.js"><link rel="prefetch" href="/Doc/assets/js/103.5d20382c.js"><link rel="prefetch" href="/Doc/assets/js/104.5ab43461.js"><link rel="prefetch" href="/Doc/assets/js/105.3063dd4c.js"><link rel="prefetch" href="/Doc/assets/js/106.7cca5989.js"><link rel="prefetch" href="/Doc/assets/js/107.4d89c49e.js"><link rel="prefetch" href="/Doc/assets/js/108.864c599f.js"><link rel="prefetch" href="/Doc/assets/js/109.c2983259.js"><link rel="prefetch" href="/Doc/assets/js/11.c9567fb6.js"><link rel="prefetch" href="/Doc/assets/js/110.6e90b681.js"><link rel="prefetch" href="/Doc/assets/js/111.e180276f.js"><link rel="prefetch" href="/Doc/assets/js/112.fa30eea9.js"><link rel="prefetch" href="/Doc/assets/js/113.99f6f93c.js"><link rel="prefetch" href="/Doc/assets/js/114.1f5c4de4.js"><link rel="prefetch" href="/Doc/assets/js/115.f816bfb6.js"><link rel="prefetch" href="/Doc/assets/js/116.bc7b2ed1.js"><link rel="prefetch" href="/Doc/assets/js/117.499ff8f2.js"><link rel="prefetch" href="/Doc/assets/js/118.6b16395f.js"><link rel="prefetch" href="/Doc/assets/js/119.b8fb56ea.js"><link rel="prefetch" href="/Doc/assets/js/12.5b258d89.js"><link rel="prefetch" href="/Doc/assets/js/120.462e541a.js"><link rel="prefetch" href="/Doc/assets/js/121.84b7326d.js"><link rel="prefetch" href="/Doc/assets/js/122.dd4238a8.js"><link rel="prefetch" href="/Doc/assets/js/123.25f52653.js"><link rel="prefetch" href="/Doc/assets/js/124.e248ef9f.js"><link rel="prefetch" href="/Doc/assets/js/125.75662200.js"><link rel="prefetch" href="/Doc/assets/js/126.3646e8d9.js"><link rel="prefetch" href="/Doc/assets/js/127.0755fc9a.js"><link rel="prefetch" href="/Doc/assets/js/128.36e84d55.js"><link rel="prefetch" href="/Doc/assets/js/129.5a1ae98b.js"><link rel="prefetch" href="/Doc/assets/js/13.d7202708.js"><link rel="prefetch" href="/Doc/assets/js/130.09cd929d.js"><link rel="prefetch" href="/Doc/assets/js/131.d142c2de.js"><link rel="prefetch" href="/Doc/assets/js/132.0cb962dc.js"><link rel="prefetch" href="/Doc/assets/js/133.8a837759.js"><link rel="prefetch" href="/Doc/assets/js/134.53921dab.js"><link rel="prefetch" href="/Doc/assets/js/135.7d5b887b.js"><link rel="prefetch" href="/Doc/assets/js/136.fa5b0fa1.js"><link rel="prefetch" href="/Doc/assets/js/137.5e10a0b7.js"><link rel="prefetch" href="/Doc/assets/js/138.847fbf97.js"><link rel="prefetch" href="/Doc/assets/js/139.4d6d063d.js"><link rel="prefetch" href="/Doc/assets/js/14.4999a484.js"><link rel="prefetch" href="/Doc/assets/js/140.ad818d61.js"><link rel="prefetch" href="/Doc/assets/js/141.24ec8a45.js"><link rel="prefetch" href="/Doc/assets/js/142.a896d6b3.js"><link rel="prefetch" href="/Doc/assets/js/143.40c3d7a7.js"><link rel="prefetch" href="/Doc/assets/js/144.5970f31c.js"><link rel="prefetch" href="/Doc/assets/js/145.d3efb1c5.js"><link rel="prefetch" href="/Doc/assets/js/146.1f23e836.js"><link rel="prefetch" href="/Doc/assets/js/147.0177ff6f.js"><link rel="prefetch" href="/Doc/assets/js/148.65c7029f.js"><link rel="prefetch" href="/Doc/assets/js/149.9e9c9a9f.js"><link rel="prefetch" href="/Doc/assets/js/15.d1a638cc.js"><link rel="prefetch" href="/Doc/assets/js/150.4608f8f4.js"><link rel="prefetch" href="/Doc/assets/js/151.3f312ae0.js"><link rel="prefetch" href="/Doc/assets/js/152.62074ea4.js"><link rel="prefetch" href="/Doc/assets/js/153.548b494f.js"><link rel="prefetch" href="/Doc/assets/js/154.4788b359.js"><link rel="prefetch" href="/Doc/assets/js/156.af50613d.js"><link rel="prefetch" href="/Doc/assets/js/157.444898fb.js"><link rel="prefetch" href="/Doc/assets/js/158.abab8b11.js"><link rel="prefetch" href="/Doc/assets/js/159.7b99b6f7.js"><link rel="prefetch" href="/Doc/assets/js/16.f69ecae9.js"><link rel="prefetch" href="/Doc/assets/js/160.61cc6688.js"><link rel="prefetch" href="/Doc/assets/js/161.98d35244.js"><link rel="prefetch" href="/Doc/assets/js/162.c68cea12.js"><link rel="prefetch" href="/Doc/assets/js/163.91c4ba25.js"><link rel="prefetch" href="/Doc/assets/js/164.09f58047.js"><link rel="prefetch" href="/Doc/assets/js/165.2b35e537.js"><link rel="prefetch" href="/Doc/assets/js/166.fc3d2027.js"><link rel="prefetch" href="/Doc/assets/js/167.958eda97.js"><link rel="prefetch" href="/Doc/assets/js/168.a422e496.js"><link rel="prefetch" href="/Doc/assets/js/169.07d6b28a.js"><link rel="prefetch" href="/Doc/assets/js/17.8d8eeb0d.js"><link rel="prefetch" href="/Doc/assets/js/170.cdd8305b.js"><link rel="prefetch" href="/Doc/assets/js/171.0672866a.js"><link rel="prefetch" href="/Doc/assets/js/172.67d0b734.js"><link rel="prefetch" href="/Doc/assets/js/173.50d859a6.js"><link rel="prefetch" href="/Doc/assets/js/174.978c6fd5.js"><link rel="prefetch" href="/Doc/assets/js/175.5d2e0093.js"><link rel="prefetch" href="/Doc/assets/js/176.c263d124.js"><link rel="prefetch" href="/Doc/assets/js/177.e7b36966.js"><link rel="prefetch" href="/Doc/assets/js/178.50ff2b2a.js"><link rel="prefetch" href="/Doc/assets/js/179.f7659fb9.js"><link rel="prefetch" href="/Doc/assets/js/18.63596201.js"><link rel="prefetch" href="/Doc/assets/js/180.fdcd7b46.js"><link rel="prefetch" href="/Doc/assets/js/181.395914e5.js"><link rel="prefetch" href="/Doc/assets/js/182.463495bd.js"><link rel="prefetch" href="/Doc/assets/js/183.ff96224d.js"><link rel="prefetch" href="/Doc/assets/js/184.8b63ecec.js"><link rel="prefetch" href="/Doc/assets/js/185.b72dc5b2.js"><link rel="prefetch" href="/Doc/assets/js/186.06dc27a5.js"><link rel="prefetch" href="/Doc/assets/js/187.9437bd81.js"><link rel="prefetch" href="/Doc/assets/js/188.54ae38ee.js"><link rel="prefetch" href="/Doc/assets/js/189.679e5386.js"><link rel="prefetch" href="/Doc/assets/js/19.acac7b95.js"><link rel="prefetch" href="/Doc/assets/js/190.a96633ea.js"><link rel="prefetch" href="/Doc/assets/js/191.52a9489e.js"><link rel="prefetch" href="/Doc/assets/js/192.e16df528.js"><link rel="prefetch" href="/Doc/assets/js/193.9ad15864.js"><link rel="prefetch" href="/Doc/assets/js/194.1292aadb.js"><link rel="prefetch" href="/Doc/assets/js/195.a582458d.js"><link rel="prefetch" href="/Doc/assets/js/196.8cf6db70.js"><link rel="prefetch" href="/Doc/assets/js/197.faecfdd2.js"><link rel="prefetch" href="/Doc/assets/js/198.7070e22a.js"><link rel="prefetch" href="/Doc/assets/js/199.a2be2dd6.js"><link rel="prefetch" href="/Doc/assets/js/20.22fe0660.js"><link rel="prefetch" href="/Doc/assets/js/200.b2444ca7.js"><link rel="prefetch" href="/Doc/assets/js/201.ae0cdf71.js"><link rel="prefetch" href="/Doc/assets/js/202.749f3968.js"><link rel="prefetch" href="/Doc/assets/js/203.f65990e9.js"><link rel="prefetch" href="/Doc/assets/js/204.45f73fe6.js"><link rel="prefetch" href="/Doc/assets/js/205.8ce1b857.js"><link rel="prefetch" href="/Doc/assets/js/206.dcd6fe62.js"><link rel="prefetch" href="/Doc/assets/js/207.7e329815.js"><link rel="prefetch" href="/Doc/assets/js/208.70c9cf1b.js"><link rel="prefetch" href="/Doc/assets/js/209.c6f89c2b.js"><link rel="prefetch" href="/Doc/assets/js/21.f1533f97.js"><link rel="prefetch" href="/Doc/assets/js/210.55e89e29.js"><link rel="prefetch" href="/Doc/assets/js/211.ec662ef1.js"><link rel="prefetch" href="/Doc/assets/js/212.b355f5f9.js"><link rel="prefetch" href="/Doc/assets/js/213.94b95c2c.js"><link rel="prefetch" href="/Doc/assets/js/214.4fc003d7.js"><link rel="prefetch" href="/Doc/assets/js/215.6de15d9e.js"><link rel="prefetch" href="/Doc/assets/js/216.c4a67362.js"><link rel="prefetch" href="/Doc/assets/js/217.c5af90d9.js"><link rel="prefetch" href="/Doc/assets/js/218.62fb26dc.js"><link rel="prefetch" href="/Doc/assets/js/219.8759a4b0.js"><link rel="prefetch" href="/Doc/assets/js/22.ccdd5bf7.js"><link rel="prefetch" href="/Doc/assets/js/220.0bd2e842.js"><link rel="prefetch" href="/Doc/assets/js/221.7aefc40f.js"><link rel="prefetch" href="/Doc/assets/js/222.8199d99d.js"><link rel="prefetch" href="/Doc/assets/js/223.591213b9.js"><link rel="prefetch" href="/Doc/assets/js/224.447b8b83.js"><link rel="prefetch" href="/Doc/assets/js/225.5eabe2e6.js"><link rel="prefetch" href="/Doc/assets/js/226.d594a888.js"><link rel="prefetch" href="/Doc/assets/js/227.698f6fd0.js"><link rel="prefetch" href="/Doc/assets/js/228.88c5e244.js"><link rel="prefetch" href="/Doc/assets/js/229.fb86f894.js"><link rel="prefetch" href="/Doc/assets/js/23.00308eb3.js"><link rel="prefetch" href="/Doc/assets/js/230.8cad1850.js"><link rel="prefetch" href="/Doc/assets/js/231.8d050c76.js"><link rel="prefetch" href="/Doc/assets/js/232.8cf41432.js"><link rel="prefetch" href="/Doc/assets/js/233.03b95a6a.js"><link rel="prefetch" href="/Doc/assets/js/234.8315c42c.js"><link rel="prefetch" href="/Doc/assets/js/235.6c5ca8b3.js"><link rel="prefetch" href="/Doc/assets/js/236.5892a9ea.js"><link rel="prefetch" href="/Doc/assets/js/237.4b2f209e.js"><link rel="prefetch" href="/Doc/assets/js/238.f8cc0a5f.js"><link rel="prefetch" href="/Doc/assets/js/239.502224d6.js"><link rel="prefetch" href="/Doc/assets/js/24.bc8a5370.js"><link rel="prefetch" href="/Doc/assets/js/240.569cfd4e.js"><link rel="prefetch" href="/Doc/assets/js/241.5772b998.js"><link rel="prefetch" href="/Doc/assets/js/242.deafb7a9.js"><link rel="prefetch" href="/Doc/assets/js/243.ae33294d.js"><link rel="prefetch" href="/Doc/assets/js/244.4f111533.js"><link rel="prefetch" href="/Doc/assets/js/245.7be04b8e.js"><link rel="prefetch" href="/Doc/assets/js/246.704ebee6.js"><link rel="prefetch" href="/Doc/assets/js/247.755ae3b4.js"><link rel="prefetch" href="/Doc/assets/js/248.0512dc93.js"><link rel="prefetch" href="/Doc/assets/js/249.2793638f.js"><link rel="prefetch" href="/Doc/assets/js/25.4aed42b4.js"><link rel="prefetch" href="/Doc/assets/js/250.905fc12b.js"><link rel="prefetch" href="/Doc/assets/js/251.2b6987df.js"><link rel="prefetch" href="/Doc/assets/js/252.2e2c32a5.js"><link rel="prefetch" href="/Doc/assets/js/253.f3b51f21.js"><link rel="prefetch" href="/Doc/assets/js/254.5cc60f78.js"><link rel="prefetch" href="/Doc/assets/js/255.60fa60d0.js"><link rel="prefetch" href="/Doc/assets/js/256.f1bd5a41.js"><link rel="prefetch" href="/Doc/assets/js/257.9e93525d.js"><link rel="prefetch" href="/Doc/assets/js/258.852b261a.js"><link rel="prefetch" href="/Doc/assets/js/259.acd72f37.js"><link rel="prefetch" href="/Doc/assets/js/26.5962ac0e.js"><link rel="prefetch" href="/Doc/assets/js/260.0f5aef35.js"><link rel="prefetch" href="/Doc/assets/js/261.9c788243.js"><link rel="prefetch" href="/Doc/assets/js/262.2c31ed40.js"><link rel="prefetch" href="/Doc/assets/js/263.5402ce81.js"><link rel="prefetch" href="/Doc/assets/js/264.fa8699ad.js"><link rel="prefetch" href="/Doc/assets/js/265.59939d96.js"><link rel="prefetch" href="/Doc/assets/js/266.1da879fe.js"><link rel="prefetch" href="/Doc/assets/js/267.8c7f9088.js"><link rel="prefetch" href="/Doc/assets/js/268.83bb3d54.js"><link rel="prefetch" href="/Doc/assets/js/269.4b8be342.js"><link rel="prefetch" href="/Doc/assets/js/27.c84e29cd.js"><link rel="prefetch" href="/Doc/assets/js/270.0c342b85.js"><link rel="prefetch" href="/Doc/assets/js/271.de817c2b.js"><link rel="prefetch" href="/Doc/assets/js/272.28059c84.js"><link rel="prefetch" href="/Doc/assets/js/273.39e33938.js"><link rel="prefetch" href="/Doc/assets/js/274.4bc58acc.js"><link rel="prefetch" href="/Doc/assets/js/275.14015bbd.js"><link rel="prefetch" href="/Doc/assets/js/276.aba8ac37.js"><link rel="prefetch" href="/Doc/assets/js/277.5a9875e9.js"><link rel="prefetch" href="/Doc/assets/js/278.096a6f2f.js"><link rel="prefetch" href="/Doc/assets/js/279.f0048811.js"><link rel="prefetch" href="/Doc/assets/js/28.05b85f53.js"><link rel="prefetch" href="/Doc/assets/js/280.e79bff86.js"><link rel="prefetch" href="/Doc/assets/js/281.4b272e6a.js"><link rel="prefetch" href="/Doc/assets/js/282.5022b147.js"><link rel="prefetch" href="/Doc/assets/js/283.d9d81948.js"><link rel="prefetch" href="/Doc/assets/js/284.793d9cf1.js"><link rel="prefetch" href="/Doc/assets/js/285.aed3fef3.js"><link rel="prefetch" href="/Doc/assets/js/286.a168523f.js"><link rel="prefetch" href="/Doc/assets/js/287.dadbfe29.js"><link rel="prefetch" href="/Doc/assets/js/288.e936b5b8.js"><link rel="prefetch" href="/Doc/assets/js/289.b2611af2.js"><link rel="prefetch" href="/Doc/assets/js/29.95246f0d.js"><link rel="prefetch" href="/Doc/assets/js/290.19c6efdf.js"><link rel="prefetch" href="/Doc/assets/js/291.1c09193c.js"><link rel="prefetch" href="/Doc/assets/js/292.85688959.js"><link rel="prefetch" href="/Doc/assets/js/293.ace25d41.js"><link rel="prefetch" href="/Doc/assets/js/294.b9ba541c.js"><link rel="prefetch" href="/Doc/assets/js/295.adadb8ca.js"><link rel="prefetch" href="/Doc/assets/js/296.8fc95665.js"><link rel="prefetch" href="/Doc/assets/js/297.b4f55e1d.js"><link rel="prefetch" href="/Doc/assets/js/298.68bfcb80.js"><link rel="prefetch" href="/Doc/assets/js/299.e29f1a05.js"><link rel="prefetch" href="/Doc/assets/js/3.013914db.js"><link rel="prefetch" href="/Doc/assets/js/30.d0c384bf.js"><link rel="prefetch" href="/Doc/assets/js/300.9b6962c7.js"><link rel="prefetch" href="/Doc/assets/js/301.3ebd18d3.js"><link rel="prefetch" href="/Doc/assets/js/302.b170978e.js"><link rel="prefetch" href="/Doc/assets/js/303.836265d4.js"><link rel="prefetch" href="/Doc/assets/js/304.f9b130bc.js"><link rel="prefetch" href="/Doc/assets/js/305.9426ba34.js"><link rel="prefetch" href="/Doc/assets/js/306.59283f85.js"><link rel="prefetch" href="/Doc/assets/js/307.731c7298.js"><link rel="prefetch" href="/Doc/assets/js/308.dc30f795.js"><link rel="prefetch" href="/Doc/assets/js/309.5d67f36c.js"><link rel="prefetch" href="/Doc/assets/js/31.acadc7a9.js"><link rel="prefetch" href="/Doc/assets/js/310.2ac39fde.js"><link rel="prefetch" href="/Doc/assets/js/311.efbcd1fe.js"><link rel="prefetch" href="/Doc/assets/js/312.a9d06d5d.js"><link rel="prefetch" href="/Doc/assets/js/313.6450132d.js"><link rel="prefetch" href="/Doc/assets/js/314.7044e631.js"><link rel="prefetch" href="/Doc/assets/js/315.736cfaab.js"><link rel="prefetch" href="/Doc/assets/js/316.96e1ec80.js"><link rel="prefetch" href="/Doc/assets/js/317.5cc71cae.js"><link rel="prefetch" href="/Doc/assets/js/318.f98508fd.js"><link rel="prefetch" href="/Doc/assets/js/319.b73adb46.js"><link rel="prefetch" href="/Doc/assets/js/32.15a99190.js"><link rel="prefetch" href="/Doc/assets/js/320.14703eb6.js"><link rel="prefetch" href="/Doc/assets/js/321.a556c461.js"><link rel="prefetch" href="/Doc/assets/js/322.bf83657a.js"><link rel="prefetch" href="/Doc/assets/js/323.0d77bf1e.js"><link rel="prefetch" href="/Doc/assets/js/324.ee0071d3.js"><link rel="prefetch" href="/Doc/assets/js/325.dc42c532.js"><link rel="prefetch" href="/Doc/assets/js/326.78604fe2.js"><link rel="prefetch" href="/Doc/assets/js/327.6ead0ff2.js"><link rel="prefetch" href="/Doc/assets/js/328.7656a6f9.js"><link rel="prefetch" href="/Doc/assets/js/329.dc5d38cd.js"><link rel="prefetch" href="/Doc/assets/js/33.f591604e.js"><link rel="prefetch" href="/Doc/assets/js/330.e5c45fc9.js"><link rel="prefetch" href="/Doc/assets/js/331.f999d351.js"><link rel="prefetch" href="/Doc/assets/js/332.80fa4613.js"><link rel="prefetch" href="/Doc/assets/js/333.e2e69b22.js"><link rel="prefetch" href="/Doc/assets/js/334.e412d0c5.js"><link rel="prefetch" href="/Doc/assets/js/335.1cb50d1d.js"><link rel="prefetch" href="/Doc/assets/js/34.937fedbe.js"><link rel="prefetch" href="/Doc/assets/js/35.2e324997.js"><link rel="prefetch" href="/Doc/assets/js/36.8a8ed4d0.js"><link rel="prefetch" href="/Doc/assets/js/37.bead9db0.js"><link rel="prefetch" href="/Doc/assets/js/38.902dd996.js"><link rel="prefetch" href="/Doc/assets/js/39.cc616c3d.js"><link rel="prefetch" href="/Doc/assets/js/4.7bc5b57c.js"><link rel="prefetch" href="/Doc/assets/js/40.9b3b183f.js"><link rel="prefetch" href="/Doc/assets/js/41.0f48f710.js"><link rel="prefetch" href="/Doc/assets/js/42.afb0e133.js"><link rel="prefetch" href="/Doc/assets/js/43.7af0ee11.js"><link rel="prefetch" href="/Doc/assets/js/44.1b6579c4.js"><link rel="prefetch" href="/Doc/assets/js/45.9a2b03b8.js"><link rel="prefetch" href="/Doc/assets/js/46.8563cd92.js"><link rel="prefetch" href="/Doc/assets/js/47.b0ab272c.js"><link rel="prefetch" href="/Doc/assets/js/48.3a6e9748.js"><link rel="prefetch" href="/Doc/assets/js/49.200e5283.js"><link rel="prefetch" href="/Doc/assets/js/5.bfc6c1ba.js"><link rel="prefetch" href="/Doc/assets/js/50.0a7086f1.js"><link rel="prefetch" href="/Doc/assets/js/51.1a4964ed.js"><link rel="prefetch" href="/Doc/assets/js/52.5b746d34.js"><link rel="prefetch" href="/Doc/assets/js/53.8535e1d3.js"><link rel="prefetch" href="/Doc/assets/js/54.e9cf493e.js"><link rel="prefetch" href="/Doc/assets/js/55.29e0cb60.js"><link rel="prefetch" href="/Doc/assets/js/56.42299f0a.js"><link rel="prefetch" href="/Doc/assets/js/57.3a61f1a1.js"><link rel="prefetch" href="/Doc/assets/js/58.116bda20.js"><link rel="prefetch" href="/Doc/assets/js/59.b0584891.js"><link rel="prefetch" href="/Doc/assets/js/6.5dba3006.js"><link rel="prefetch" href="/Doc/assets/js/60.23fb2b17.js"><link rel="prefetch" href="/Doc/assets/js/61.70b80709.js"><link rel="prefetch" href="/Doc/assets/js/62.d6177f44.js"><link rel="prefetch" href="/Doc/assets/js/63.3117b4f4.js"><link rel="prefetch" href="/Doc/assets/js/64.9c16d71a.js"><link rel="prefetch" href="/Doc/assets/js/65.72315dcb.js"><link rel="prefetch" href="/Doc/assets/js/66.d34189dd.js"><link rel="prefetch" href="/Doc/assets/js/67.8c576dfe.js"><link rel="prefetch" href="/Doc/assets/js/68.20d42053.js"><link rel="prefetch" href="/Doc/assets/js/69.f24935f8.js"><link rel="prefetch" href="/Doc/assets/js/7.41f62d6a.js"><link rel="prefetch" href="/Doc/assets/js/70.cf42977d.js"><link rel="prefetch" href="/Doc/assets/js/71.54916919.js"><link rel="prefetch" href="/Doc/assets/js/72.221e8ecd.js"><link rel="prefetch" href="/Doc/assets/js/73.cb6ae2d2.js"><link rel="prefetch" href="/Doc/assets/js/74.b2288f18.js"><link rel="prefetch" href="/Doc/assets/js/75.f723606d.js"><link rel="prefetch" href="/Doc/assets/js/76.ef562986.js"><link rel="prefetch" href="/Doc/assets/js/77.8093f4ec.js"><link rel="prefetch" href="/Doc/assets/js/78.6c4c500d.js"><link rel="prefetch" href="/Doc/assets/js/79.f71f1edb.js"><link rel="prefetch" href="/Doc/assets/js/8.e58e0a8b.js"><link rel="prefetch" href="/Doc/assets/js/80.2e5ddbcf.js"><link rel="prefetch" href="/Doc/assets/js/81.da215114.js"><link rel="prefetch" href="/Doc/assets/js/82.c49f6df4.js"><link rel="prefetch" href="/Doc/assets/js/83.0321c51d.js"><link rel="prefetch" href="/Doc/assets/js/84.6db6bb2f.js"><link rel="prefetch" href="/Doc/assets/js/85.24b36b1d.js"><link rel="prefetch" href="/Doc/assets/js/86.625912c6.js"><link rel="prefetch" href="/Doc/assets/js/87.c43d71ba.js"><link rel="prefetch" href="/Doc/assets/js/88.910db2a4.js"><link rel="prefetch" href="/Doc/assets/js/89.884f8e8a.js"><link rel="prefetch" href="/Doc/assets/js/9.886ae872.js"><link rel="prefetch" href="/Doc/assets/js/90.22d26b03.js"><link rel="prefetch" href="/Doc/assets/js/91.edb08b6d.js"><link rel="prefetch" href="/Doc/assets/js/92.82eda3d2.js"><link rel="prefetch" href="/Doc/assets/js/93.96ef51d1.js"><link rel="prefetch" href="/Doc/assets/js/94.ea7402f1.js"><link rel="prefetch" href="/Doc/assets/js/95.32075569.js"><link rel="prefetch" href="/Doc/assets/js/96.0f861411.js"><link rel="prefetch" href="/Doc/assets/js/97.25cff978.js"><link rel="prefetch" href="/Doc/assets/js/98.be524068.js"><link rel="prefetch" href="/Doc/assets/js/99.9489ec01.js">
    <link rel="stylesheet" href="/Doc/assets/css/0.styles.55c51c8a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Doc/" class="home-link router-link-active"><!----> <span class="site-name">재미있는 기억만 남기자</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Doc/todo.html" class="nav-link">
  Todo
</a></div><div class="nav-item"><a href="/Doc/dev.html" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/Doc/reads.html" class="nav-link">
  Reads
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Doc/todo.html" class="nav-link">
  Todo
</a></div><div class="nav-item"><a href="/Doc/dev.html" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/Doc/reads.html" class="nav-link">
  Reads
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>전체글</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>자바스크립트</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>자바</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Effective Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Doc/dev/java/effective-java/들어가기.html" class="sidebar-link">Ch1 들어가기</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/Doc/dev/java/effective-java/ch2/index" class="sidebar-heading clickable"><span>Ch2 객체 생성과 파괴</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/Doc/dev/java/effective-java/ch3/index" class="sidebar-heading clickable open"><span>Ch3 모든 객체의 공통 메서드</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html" aria-current="page" class="active sidebar-link">ITEM10 equals 는 일반 규약을 지켜 재정의하라</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#재정의-하지-않아야-할-경우" class="sidebar-link">재정의 하지 않아야 할 경우</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_1-각-인스턴스가-본질적으로-고유할-때-동작하는-개체를-표현하는-클래스" class="sidebar-link">1. 각 인스턴스가 본질적으로 고유할 때 (동작하는 개체를 표현하는 클래스)</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_2-인스턴스의-논리적-동치성-logical-equality-를-검사할-일이-없을-때" class="sidebar-link">2. 인스턴스의 논리적 동치성 logical equality 를 검사할 일이 없을 때</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_3-상위-클래스에서-재정의한-equals-가-하위-클래스에-딱-들어-맞을-때" class="sidebar-link">3. 상위 클래스에서 재정의한 equals 가 하위 클래스에 딱 들어 맞을 때</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_4-클래스가-private-이거나-package-private-이고-equals-메서드를-호출할-일이-없다" class="sidebar-link">4. 클래스가 private 이거나, package-private 이고, equals 메서드를 호출할 일이 없다.</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_5-인스턴스가-둘-이상-만들어지지-않음을-보장하는-인스턴스-통제-클래스-1" class="sidebar-link">5. 인스턴스가 둘 이상 만들어지지 않음을 보장하는 인스턴스 통제 클래스[1]</a></li></ul></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#equals-를-재정의-해야-할-때-→-논리적-동치성을-확인해야-할-때" class="sidebar-link">equals 를 재정의 해야 할 때 → 논리적 동치성을 확인해야 할 때</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#값-클래스들" class="sidebar-link">값 클래스들</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#equals-가-논리적-동치성을-확인할-때-장점" class="sidebar-link">Equals 가 논리적 동치성을 확인할 때 장점</a></li></ul></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#equals-메서드-재정의-일반-규약" class="sidebar-link">equals 메서드 재정의 일반 규약</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#object-명세에서의-동치-관계" class="sidebar-link">Object 명세에서의 동치 관계</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_1-반사성" class="sidebar-link">1. 반사성</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_2-대칭성" class="sidebar-link">2. 대칭성</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_3-추이성" class="sidebar-link">3. 추이성</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_4-일관성" class="sidebar-link">4. 일관성</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_5-null-아님" class="sidebar-link">5. null-아님</a></li></ul></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#equals-메서드-구현-방법" class="sidebar-link">equals 메서드 구현 방법</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_1-연산자를-사용해-입력이-자기-자신의-참조인지-확인한다" class="sidebar-link">1. == 연산자를 사용해 입력이 자기 자신의 참조인지 확인한다.</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_2-instanceof-연산자로-입력이-올바른-타입인지-확인한다" class="sidebar-link">2. instanceof 연산자로 입력이 올바른 타입인지 확인한다.</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_3-입력을-올바른-타입으로-형변환한다" class="sidebar-link">3. 입력을 올바른 타입으로 형변환한다.</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_4-입력-객체와-자기-자신의-대응되는-핵심-필드들이-모두-일치하는지-하나씩-검사한다" class="sidebar-link">4. 입력 객체와 자기 자신의 대응되는 핵심 필드들이 모두 일치하는지 하나씩 검사한다.</a></li></ul></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#테스트" class="sidebar-link">테스트</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#주의-사항" class="sidebar-link">주의 사항</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_1-equals-를-재정의-할-땐-hashcode-도-반드시-재정의" class="sidebar-link">1. equals 를 재정의 할 땐 hashCode 도 반드시 재정의</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_2-너무-복잡하게-해결하려-하지-않기" class="sidebar-link">2. 너무 복잡하게 해결하려 하지 않기</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#_3-object-외의-타입을-매개변수로-받는-equals-메서드는-선언하지-않기" class="sidebar-link">3. Object 외의 타입을 매개변수로 받는 equals 메서드는 선언하지 않기</a></li></ul></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#equals-쉽게-사용하기" class="sidebar-link">equals 쉽게 사용하기</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#autovalue-프레임워크의-애너테이션" class="sidebar-link">AutoValue 프레임워크의 애너테이션</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/java/effective-java/ch3/ITEM10.html#ide" class="sidebar-link">IDE</a></li></ul></li></ul></li><li><a href="/Doc/dev/java/effective-java/ch3/ITEM11.html" class="sidebar-link">ITEM11 equals 를 재정의하려거든 hashCode 도 재정의하라</a></li><li><a href="/Doc/dev/java/effective-java/ch3/ITEM12.html" class="sidebar-link">ITEM12 toString 을 항상 재정의하라</a></li><li><a href="/Doc/dev/java/effective-java/ch3/ITEM13.html" class="sidebar-link">ITEM13 clone 재정의는 주의해서 진행하라</a></li><li><a href="/Doc/dev/java/effective-java/ch3/ITEM14.html" class="sidebar-link">ITEM14 Comparable 을 구현할지 고려하라</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/Doc/dev/java/effective-java/ch4/index" class="sidebar-heading clickable"><span>Ch4 클래스와 인터페이스</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/Doc/dev/java/effective-java/ch5/index" class="sidebar-heading clickable"><span>Ch5 제네릭</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>스터디</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>리액트</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tutorials</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>참여 프로젝트</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>네트워크</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>디자인 패턴</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="item10-equals-는-일반-규약을-지켜-재정의하라"><a href="#item10-equals-는-일반-규약을-지켜-재정의하라" class="header-anchor">#</a> ITEM10 equals 는 일반 규약을 지켜 재정의하라</h1> <p>재정의 하지 않으면, 그 클래스의 인스턴스는 오직 자기 자신과만 같게 된다.</p> <p>재정의를 할 때 주의할 점들이 많기 때문에 재정의가 필요할 때만 사용하는 것이 좋다</p> <h2 id="재정의-하지-않아야-할-경우"><a href="#재정의-하지-않아야-할-경우" class="header-anchor">#</a> 재정의 하지 않아야 할 경우</h2> <h3 id="_1-각-인스턴스가-본질적으로-고유할-때-동작하는-개체를-표현하는-클래스"><a href="#_1-각-인스턴스가-본질적으로-고유할-때-동작하는-개체를-표현하는-클래스" class="header-anchor">#</a> 1. 각 인스턴스가 본질적으로 고유할 때 (동작하는 개체를 표현하는 클래스)</h3> <ul><li>값 표현이 아닌, 동작하는 개체를 표현하는 클래스일 때 ??</li> <li><code>Thread</code></li> <li>Object 의 equals 메서드는 이러한 클래스에 딱 맞게 구현 되어 있다.</li></ul> <h3 id="_2-인스턴스의-논리적-동치성-logical-equality-를-검사할-일이-없을-때"><a href="#_2-인스턴스의-논리적-동치성-logical-equality-를-검사할-일이-없을-때" class="header-anchor">#</a> 2. 인스턴스의 논리적 동치성 logical equality 를 검사할 일이 없을 때</h3> <h3 id="_3-상위-클래스에서-재정의한-equals-가-하위-클래스에-딱-들어-맞을-때"><a href="#_3-상위-클래스에서-재정의한-equals-가-하위-클래스에-딱-들어-맞을-때" class="header-anchor">#</a> 3. 상위 클래스에서 재정의한 equals 가 하위 클래스에 딱 들어 맞을 때</h3> <ul><li>Set 구현체는 AbstractSet 으로 부터</li> <li>List 구현체들을 AbstractList 로부터</li> <li>Map 구현체들을 AbstractMap 으로 부터</li></ul> <p>상속받아 그래돌 쓴다.</p> <h3 id="_4-클래스가-private-이거나-package-private-이고-equals-메서드를-호출할-일이-없다"><a href="#_4-클래스가-private-이거나-package-private-이고-equals-메서드를-호출할-일이-없다" class="header-anchor">#</a> 4. 클래스가 private 이거나, package-private 이고, equals 메서드를 호출할 일이 없다.</h3> <p>equals 가 실수로라도 호출 되는 걸 막고 싶다면 다음과 같이 사용한다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Ovveride</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AssertionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-인스턴스가-둘-이상-만들어지지-않음을-보장하는-인스턴스-통제-클래스-1"><a href="#_5-인스턴스가-둘-이상-만들어지지-않음을-보장하는-인스턴스-통제-클래스-1" class="header-anchor">#</a> 5. 인스턴스가 둘 이상 만들어지지 않음을 보장하는 인스턴스 통제 클래스[1]</h3> <h2 id="equals-를-재정의-해야-할-때-→-논리적-동치성을-확인해야-할-때"><a href="#equals-를-재정의-해야-할-때-→-논리적-동치성을-확인해야-할-때" class="header-anchor">#</a> equals 를 재정의 해야 할 때 → 논리적 동치성을 확인해야 할 때</h2> <p>객체 식별성 (Object identity; 두 객체가 물리적으로 같은가)이 아니라 논리적 동치성을 확인해야 할 때</p> <ul><li>상위 클래스의 equals 가 논리적 동치성을 비교하도록 재정의되지 않았을 때</li></ul> <h3 id="값-클래스들"><a href="#값-클래스들" class="header-anchor">#</a> 값 클래스들</h3> <ul><li>Integer 와 String 처럼현하는 클래스</li> <li>인스턴스가 둘 이상 만들어지지 않음을 보장하는 인스턴스 통제 클래스라면 재정의 하지 않아도 된다.</li></ul> <h3 id="equals-가-논리적-동치성을-확인할-때-장점"><a href="#equals-가-논리적-동치성을-확인할-때-장점" class="header-anchor">#</a> Equals 가 논리적 동치성을 확인할 때 장점</h3> <ul><li>그 인스턴스는 값을 비교하기를 기대할 수 있다.</li> <li>Map 의 키와, Set 의 원소로 사용할 수 있다</li></ul> <h2 id="equals-메서드-재정의-일반-규약"><a href="#equals-메서드-재정의-일반-규약" class="header-anchor">#</a> equals 메서드 재정의 일반 규약</h2> <p>equals 메서드는 동치 관계(equivalence relation)를 구현하며 다음을 만족한다.</p> <ol><li>반사성 reflexivity
<ul><li>null 이 아닌 모든 참조 값 x 에 대해,</li> <li><code>x.equlas(x)</code> 는 true</li></ul></li> <li>대칭성 symmetry
<ul><li>null 이 아닌 모든 참조 값 x, y에 대해,</li> <li><code>x.equals(y)</code> 가 true 면</li> <li><code>y.equals(x)</code> 도 true</li></ul></li> <li>추이성 transitivity
<ul><li>null 이 아닌 모든 참조 값, x, y, z 에 대해,</li> <li><code>x.equals(y)</code> 가 true 이면</li> <li><code>y.equlas(z)</code> 도 true</li></ul></li> <li>일관성 consistency
<ul><li>null 이 아닌 모든 참조 값 x, y 에 대해</li> <li><code>x.equals(y)</code> 를 반복해서 호출하면 항상 true 거나 false 를 반환</li></ul></li> <li>null-아님
<ul><li>null 이 아닌 모든 참조값 x 에 대해,</li> <li><code>x.equals(null)</code> 은 false</li></ul></li></ol> <h3 id="object-명세에서의-동치-관계"><a href="#object-명세에서의-동치-관계" class="header-anchor">#</a> Object 명세에서의 동치 관계</h3> <p>집합을 서로 같은 원소들로 이뤄진 부분집합으로 나누는 연산</p> <ul><li>부분집합 → 동치류 (equivalence class: 동치 클래스)</li> <li>equals 메서드가 쓸모있으려면 모든 원소가 같은 동치류에 속한 어떤 원소와도 서로 교환할 수 있어야 한다.</li></ul> <h3 id="_1-반사성"><a href="#_1-반사성" class="header-anchor">#</a> 1. 반사성</h3> <p>객체는 자기 자신과 같아야 한다.</p> <p>반사성을 위배한 경우,</p> <ul><li>contains 메서드를 호출하면 방금 넣은 인스턴스가 없다고 답할 것임.</li></ul> <h3 id="_2-대칭성"><a href="#_2-대칭성" class="header-anchor">#</a> 2. 대칭성</h3> <p>두 객체는 서로에 대한 동치 여부에 똑같이 답해야 한다</p> <h4 id="대칭성을-위배한-경우"><a href="#대칭성을-위배한-경우" class="header-anchor">#</a> 대칭성을 위배한 경우</h4> <p>대소문자를 구별하지 않는 문자열을 구현한 클래스</p> <ul><li><code>toString</code> 메서드 에서는 원본 문자열의 대소문자를 그대로 돌려준다.</li> <li><code>equals</code> 에서 대소 문자를 무시한다.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">CaseInsensitiveString</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> s<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">CaseInsensitiveString</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">CaseInsensitiveString</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">CaseInsensitiveString</span><span class="token punctuation">)</span> o<span class="token punctuation">)</span><span class="token punctuation">.</span>s<span class="token punctuation">;</span>

        <span class="token comment">// 순진하게?? 일반 문자열과도 비교를 시도한다. </span>
        <span class="token comment">// CaseInsensitiveString 은 String 을 알고 있다.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span>    <span class="token comment">// 한 방향으로만 작동한다</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">CaseInsensitiveString</span> cis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CaseInsensitiveString</span><span class="token punctuation">(</span><span class="token string">&quot;Polish&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;polish&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/* 대칭성 위반 */</span>
cis<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true;   CaseInsensitiveString 은 String 을 알고 있다.    </span>
s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cis<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false;  String 의 equals 는 CaseInsensitiveString 를 모른다.  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="caseinsensitivestring-를-컬렉션에-넣는-경우"><a href="#caseinsensitivestring-를-컬렉션에-넣는-경우" class="header-anchor">#</a> CaseInsensitiveString 를 컬렉션에 넣는 경우</h4> <p>equals 규약을 어기면 그 객체를 사용하는 다른 객체들이 어떻게 반응할 지 알 수 없다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CaseInsensitiveString</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cis<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-추이성"><a href="#_3-추이성" class="header-anchor">#</a> 3. 추이성</h3> <ul><li>첫번째 객체와 두번째 객체가 같고,</li> <li>두번째 객체가 세번째 객체와 같다면</li> <li>첫번째 객체와 세번째 객체도 같아야 한다.</li></ul> <h4 id="상위-클래스에는-없는-새로운-필드를-하위클래스에-추가하는-경우"><a href="#상위-클래스에는-없는-새로운-필드를-하위클래스에-추가하는-경우" class="header-anchor">#</a> 상위 클래스에는 없는 새로운 필드를 하위클래스에 추가하는 경우</h4> <p>equals 비교에 영향을 주는 정보를 추가한 것임.</p> <h5 id="점을-표현하는-클래스"><a href="#점을-표현하는-클래스" class="header-anchor">#</a> 점을 표현하는 클래스</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span> 
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> y<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">Point</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">Point</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Point</span><span class="token punctuation">)</span>o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">.</span>x <span class="token operator">==</span> x <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="점-클래스를-확장해-색상-추가"><a href="#점-클래스를-확장해-색상-추가" class="header-anchor">#</a> 점 클래스를 확장해 색상 추가</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="equals-메서드를-재정의-하지-않을-때"><a href="#equals-메서드를-재정의-하지-않을-때" class="header-anchor">#</a> equals 메서드를 재정의 하지 않을 때,</h5> <ul><li>Point 의 구현이 상속되어 색상 정보는 무시한 채 비교 수행</li> <li>equals 규약을 어기지는 않지만, 중요한 정보를 놓치게 된다.</li></ul> <h5 id="잘못된-코드-1-대칭성-위배"><a href="#잘못된-코드-1-대칭성-위배" class="header-anchor">#</a> 잘못된 코드 1 - 대칭성 위배</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ColorPoint</span><span class="token punctuation">)</span> o<span class="token punctuation">)</span><span class="token punctuation">.</span>color <span class="token operator">==</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Point</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
<span class="token class-name">ColorPoint</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>x.equals(y)</code></p> <ul><li>Point 의 equals 는 색상을 모른다.</li></ul> <p><code>y.equals(x)</code></p> <ul><li>ColorPoint 의 equals 는 Point 와 비교할 때,<br>
입력 매개 변수의 클래스의 종류가 다르다며 false 만 반환</li></ul> <h5 id="잘못된-코드-2-추이성-위배"><a href="#잘못된-코드-2-추이성-위배" class="header-anchor">#</a> 잘못된 코드 2 - 추이성 위배</h5> <p>equals 가 Point 와 비교할 때는 색상을 무시하도록 할 때</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token comment">// o 가 일반 Point 인 색상을 무시하고 비교</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> o<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// o 가 ColorPoint 면 색상까지 비교</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ColorPoint</span><span class="token punctuation">)</span> o<span class="token punctuation">)</span><span class="token punctuation">.</span>color <span class="token operator">==</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ColorPoint</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Point</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ColorPoint</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
p2<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="잘못된-코드-3-리스코프-치환-원칙-위배"><a href="#잘못된-코드-3-리스코프-치환-원칙-위배" class="header-anchor">#</a> 잘못된 코드 3 - 리스코프 치환 원칙 위배</h5> <p><a href="https://zzdd1558.tistory.com/57" target="_blank" rel="noopener noreferrer">getClass<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 를 사용한 equals 는<br>
같은 구현 클래스의 객체와 비교할 때만 true 를 반환.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">Point</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Point</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">.</span>x <span class="token operator">==</span> x <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span>y <span class="token operator">==</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>실제로 활용할 수도 없지만, <strong>리스코프 치환 원칙</strong>을 위배하게 된다.</p> <ul><li>어떤 타입에 있어서 중요한 속성이라면 그 하위 타입에서도 마찬가지로 중요하다.</li> <li>따라서 그 타입의 모든 메서드가 하위 타입에서도 똑같이 잘 작동해야 한다.</li> <li>Point 의 하위 클래스는 정의상 여전히 Point 이므로 어디서든 Point 로써 활용될 수 있어야 한다.</li></ul> <h5 id="결론"><a href="#결론" class="header-anchor">#</a> 결론</h5> <ul><li>구체 클래스를 확장해 새로운 값을 추가하면서 equals 규약을 만족시킬 방법은 없다.</li> <li>상속 대신 컴포지션을 사용하자</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Point</span> point<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Point</span> <span class="token function">asPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> point<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">ColorPoint</span> cp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ColorPoint</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> cp<span class="token punctuation">.</span>point<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> cp<span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="java-sql-timestamp"><a href="#java-sql-timestamp" class="header-anchor">#</a> java.sql.Timestamp</h4> <p>자바 라이브러리에서 구체 클래스를 확장해 값을 추가한 클래스의 예이다.</p> <ul><li>java.util.Date 를 확장한 후 nanoseconds 필드를 추가함.</li> <li>대칭성을 위배한다.</li> <li>Timestamp 를 Date 객체와 한 컬렉션에 넣거나 서로 섞어 사용하면 엉뚱하게 동작할 수 있다.</li></ul> <h4 id="추상-클래스의-필드-확장"><a href="#추상-클래스의-필드-확장" class="header-anchor">#</a> 추상 클래스의 필드 확장</h4> <p>추상 클래스의 하위 클래스에서라면 equals 규약을 지키면서도 값을 추가할 수 있다.</p> <p>상위 클래스를 직접 인스턴스로 만드는게 불가능 하다면 문제가 없다.</p> <ul><li>아무런 값을 갖지 않은 추상 클래스인 Shape 를 위에 두고,</li> <li>확장하여 radius 필드를 추가한 Circle 클래스</li> <li>length width 필드를 추가한 Rectangle 클래스</li></ul> <h3 id="_4-일관성"><a href="#_4-일관성" class="header-anchor">#</a> 4. 일관성</h3> <p>두 객체가 같다면 (어느 하나 혹은 두 객체가 모두 수정되지 않는 한) 앞으로도 영원히 같아야 한다.</p> <h4 id="신뢰할-수-없는-자원-java-net-url"><a href="#신뢰할-수-없는-자원-java-net-url" class="header-anchor">#</a> 신뢰할 수 없는 자원 java.net.URL</h4> <ul><li>equals 의 판단에 신뢰할 수 없는 자원이 끼어들면 결과를 보장할 수 없다.</li> <li>항시 메모리에 존재하는 객체만을 사용한 deterministic 계산만 수행해야 한다.</li></ul> <p>java.net.URL</p> <ul><li>URL 과 매핑된 호스트 IP 주소를 이용해 비교한다</li> <li>호스트 이름을 IP 주소로 바꾸려면 네트워크를 통해야 하는데, 그 결과가 항상 같다고 보장할 수 없다.</li></ul> <h3 id="_5-null-아님"><a href="#_5-null-아님" class="header-anchor">#</a> 5. null-아님</h3> <p>모든 객체가 null 과 같지 않아야 한다.</p> <p>명시적 null 검사는 필요없다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> 
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>묵시적 null 검사를 하자</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">MyType</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">MyType</span> my <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">MyType</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>equals 가 타입을 확인하지 않으면</p> <ul><li>잘못된 타입이 인수로 주어졌을 때, CastException 을 던져서 일반 규약 을 위배하게 된다. ??</li></ul> <p>instanceof 로 타입 확인을 하면 묵시적 null 검사도 할 수 있다.</p> <ul><li>두 번째 피연산자와 무관하게 첫 번째 피연산자가 null 이면 false 를 반환한다.</li></ul> <h2 id="equals-메서드-구현-방법"><a href="#equals-메서드-구현-방법" class="header-anchor">#</a> equals 메서드 구현 방법</h2> <h3 id="_1-연산자를-사용해-입력이-자기-자신의-참조인지-확인한다"><a href="#_1-연산자를-사용해-입력이-자기-자신의-참조인지-확인한다" class="header-anchor">#</a> 1. == 연산자를 사용해 입력이 자기 자신의 참조인지 확인한다.</h3> <p>자기 자신이면 true 를 반환한다.</p> <ul><li>단순 성능 최적화용으로, 비교 작업이 복잡한 상황일 때 좋다.</li></ul> <h3 id="_2-instanceof-연산자로-입력이-올바른-타입인지-확인한다"><a href="#_2-instanceof-연산자로-입력이-올바른-타입인지-확인한다" class="header-anchor">#</a> 2. instanceof 연산자로 입력이 올바른 타입인지 확인한다.</h3> <p>그렇지 않다면 false 를 반환한다.</p> <h4 id="올바른-타입"><a href="#올바른-타입" class="header-anchor">#</a> 올바른 타입</h4> <ul><li>equals 가 정의된 클래스</li> <li>클래스가 구현한 특정 인터페이스</li></ul> <p>어떤 인터페이스는 자신이 구현한 (서로다른) 클래스 끼리도 비교할 수 있도록 equals 규약을 수정하기도 한다. ??</p> <ul><li>Set, List, Map, Entry 컬렉션 인터페이스</li></ul> <h3 id="_3-입력을-올바른-타입으로-형변환한다"><a href="#_3-입력을-올바른-타입으로-형변환한다" class="header-anchor">#</a> 3. 입력을 올바른 타입으로 형변환한다.</h3> <p>instanceof 검사를 했기 때문에 100% 성공</p> <h3 id="_4-입력-객체와-자기-자신의-대응되는-핵심-필드들이-모두-일치하는지-하나씩-검사한다"><a href="#_4-입력-객체와-자기-자신의-대응되는-핵심-필드들이-모두-일치하는지-하나씩-검사한다" class="header-anchor">#</a> 4. 입력 객체와 자기 자신의 대응되는 핵심 필드들이 모두 일치하는지 하나씩 검사한다.</h3> <h4 id="_1-float-double-을-제외한-타입-필드"><a href="#_1-float-double-을-제외한-타입-필드" class="header-anchor">#</a> 1. float, double 을 제외한 타입 필드</h4> <p>== 연산자로 비교</p> <h4 id="_2-참조-타입-필드"><a href="#_2-참조-타입-필드" class="header-anchor">#</a> 2. 참조 타입 필드</h4> <p>각각의 equals 메서드로 비교</p> <p>null 을 정상 값으로 취급하는 참조필드</p> <ul><li>정적 메서드 Object.equals(Object, Object) 로 비교해 NullPointerException 을 예방할 수 있다.</li></ul> <h4 id="_3-float-double-필드"><a href="#_3-float-double-필드" class="header-anchor">#</a> 3. float, double 필드</h4> <p>각각의 정적 메서드인 Float.compare(float, float), Double.compare(double, double) 으로 비교</p> <ul><li>Float.NaN, -0.0f, 특수한 부동소수 값을 ?? 다뤄야 하기 때문</li></ul> <p>Float.equals, Double.equals 는 오토박싱으로 성능이 좋지 않다.</p> <h4 id="_4-배열"><a href="#_4-배열" class="header-anchor">#</a> 4. 배열</h4> <p>원소 각각을 앞서의 지침대로 비교함.</p> <ul><li>배열의 모든 원소가 핵심필드라면 Arrays.equals 메서들 중 하나를 사용함 ??</li></ul> <h4 id="_5-아주-복잡한-필드를-가진-클래스-→-표준형-정의"><a href="#_5-아주-복잡한-필드를-가진-클래스-→-표준형-정의" class="header-anchor">#</a> 5. 아주 복잡한 필드를 가진 클래스 → 표준형 정의</h4> <p>CaseInsensitiveString 같은 클래스는</p> <p>그 필드의 표준형 Canonical form ?? 을 저장해 둔 후 표준형 끼리 비교하면 경제적이다.</p> <ul><li>불변 클래스 [17] 에 좋은 방법 ??</li> <li>가변 객체라면 값이 바뀔 때마다 표준형을 최신 상태로 갱신해 줘야 한다. ??</li></ul> <h4 id="필드-비교와-성능"><a href="#필드-비교와-성능" class="header-anchor">#</a> 필드 비교와 성능</h4> <ol><li>다를 가능성이 더 크거나, 비교하는 비용이 싼 필드를 먼저 비교한다.</li> <li>동기화용 락 필드 같이 객체의 논리적 상태와 관련 없는 필드는 비교하면 안된다.</li> <li>핵심 필드로부터 계산해 낼 수 있는 파생 필드
<ul><li>굳이 비교할 필요는 없다.</li> <li>파생 필드가 객체 전체의 상태를 대표하는 상황에서 더 빠를 수 있다.</li> <li>자신의 영역을 캐시해 두는 Polygon 클래스는, 변과 정점을 일일이 비교할 필요없이, 캐시해둔 영역만 비교하면 결과를 곧바로 알 수 있다.</li></ul></li></ol> <h2 id="테스트"><a href="#테스트" class="header-anchor">#</a> 테스트</h2> <p>단위 테스트를 해보자</p> <ul><li>대칭성</li> <li>추이성</li> <li>일관성</li></ul> <p>null-아님 과 반사성이 문제되는 경우는 별로 없다.</p> <h2 id="주의-사항"><a href="#주의-사항" class="header-anchor">#</a> 주의 사항</h2> <h3 id="_1-equals-를-재정의-할-땐-hashcode-도-반드시-재정의"><a href="#_1-equals-를-재정의-할-땐-hashcode-도-반드시-재정의" class="header-anchor">#</a> 1. equals 를 재정의 할 땐 hashCode 도 반드시 재정의</h3> <h3 id="_2-너무-복잡하게-해결하려-하지-않기"><a href="#_2-너무-복잡하게-해결하려-하지-않기" class="header-anchor">#</a> 2. 너무 복잡하게 해결하려 하지 않기</h3> <p>필드의 동치성만 검사해도 equals 규약을 어렵지 않게 지킬 수 있다.</p> <ul><li>File 클래스라면 심볼릭 링크를 비교해 같은 파일을 가리키는지를 확인하려 들지 말자.</li></ul> <h3 id="_3-object-외의-타입을-매개변수로-받는-equals-메서드는-선언하지-않기"><a href="#_3-object-외의-타입을-매개변수로-받는-equals-메서드는-선언하지-않기" class="header-anchor">#</a> 3. Object 외의 타입을 매개변수로 받는 equals 메서드는 선언하지 않기</h3> <p>잘못된 예</p> <ul><li>입력 타입은 반드시 Object 여야 한다.</li> <li>Object.equals 를 재정의 한 것이 아닌 다중정의[52] 한 것이다.</li> <li>하위 클래스에서의 @Override 애너테이션이 거짓양성 오류를 내게 한다.</li> <li>보안적 측면에서도 잘못된 정보를 준다.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">MyClass</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>@Override 애너테이션을 일관되게 사용하면 이러한 실수를 예방할 수 있다.<br>
컴파일 되지 않기 때문이다.</p> <h2 id="equals-쉽게-사용하기"><a href="#equals-쉽게-사용하기" class="header-anchor">#</a> equals 쉽게 사용하기</h2> <h3 id="autovalue-프레임워크의-애너테이션"><a href="#autovalue-프레임워크의-애너테이션" class="header-anchor">#</a> AutoValue 프레임워크의 애너테이션</h3> <p>직접 작성하는 것과 근본적으로 똑같은 코드를 생성해 준다.</p> <h3 id="ide"><a href="#ide" class="header-anchor">#</a> IDE</h3> <ul><li>AutoValue 만큼 깔끔하거나 가독성 있지는 않다.</li> <li>클래스의 수정을 자동으로 알아차리지 못하여 테스트 코드를 작성해야 하는 수고가 있다.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Doc/dev/java/effective-java/ch2/ITEM9.html" class="prev">
        ITEM9 try-finally 보다는 try-with-resources 를 사용하라
      </a></span> <span class="next"><a href="/Doc/dev/java/effective-java/ch3/ITEM11.html">
        ITEM11 equals 를 재정의하려거든 hashCode 도 재정의하라
      </a>
      →
    </span></p></div> <div><div id="comment"></div></div> </main></div></div><div class="global-ui"></div></div>
    <script src="/Doc/assets/js/app.223b84f4.js" defer></script><script src="/Doc/assets/js/2.e16b4c8c.js" defer></script><script src="/Doc/assets/js/155.a3a7b36e.js" defer></script>
  </body>
</html>
